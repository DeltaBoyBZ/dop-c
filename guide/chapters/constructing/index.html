<html>
    <head><link rel="stylesheet" href="https://deltaboybz.github.io/dop-c/guide/css/global.css">
<link rel="stylesheet" href="https://deltaboybz.github.io/dop-c/guide/css/chapter.css">
    </head>
    <body>
    <div id="title-div">
        <h1> DOP-C Programming Guide </h1>
        <h2> Constructing </h2> 
    </div>
    <div id="logo-div">
        <a href="https://deltaboybz.github.io/dop-c">
            <img id="tabi-logo" src="https://deltaboybz.github.io/dop-c/guide/img/logo.png ">
        </a>
    </div>
    <div id="menu-div">
        <hr class="toc"> 
        
        <a class="toc" href="/dop-c/guide/chapters/introduction"><div class="toc"><h3 class="toc">Introduction</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/dop-c/guide/chapters/getting-started"><div class="toc"><h3 class="toc">Getting Started</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/dop-c/guide/chapters/constructing"><div class="toc"><h3 class="toc">Constructing Tables</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/dop-c/guide/chapters/inserting"><div class="toc"><h3 class="toc">Inserting and Removing Rows</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/dop-c/guide/chapters/finding"><div class="toc"><h3 class="toc">Finding Values</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/dop-c/guide/chapters/sorting"><div class="toc"><h3 class="toc">Sorting Rows</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/dop-c/guide/chapters/multiverses"><div class="toc"><h3 class="toc">Multiverses</h3></div></a></li>
        <hr class="toc">
        
    </div>
    <div id="text-div">
    <p>Before we can use tables, we need to make them.
Tables are constructed using two classes:</p>
<ul>
<li>The <code>Table</code> class</li>
<li>The <code>Field</code> class</li>
</ul>
<p>The <code>Table</code> class represents the data table at large.
Tables consists of columns or <em>fields</em>.
This is what the <code>Field</code> class represents.
DOP-C is designed for us to declare tables and fields separately,
so that we may reference fields directly (as opposed to calling a <code>std::map</code> for example).</p>
<p>In principle, tables and fields can be declared anywhere.
In practice however, the author advises the pattern shown in the following example.</p>
<pre><code>class Data
{
    public:
        class Proto
        {
            public:
                dopc::Table table; 
                dopc::Field&lt;int&gt; a; 
                dopc::Field&lt;float&gt; b;  
                Proto()
                {
                    a.init(&amp;table);
                    b.init(&amp;table);
                }
        };
        
        inline static Proto main; 
};
</code></pre>
<p>Here we define a <em>prototype</em> data table <code>Data::Proto</code>.
The master class, <code>Data::Proto::table</code> holds the fields <code>Data::Proto::a</code> and <code>Data::Proto::b</code>.
The relationship between the table and the field is conveyed in the field constructor.
A single instance of the prototype is declared at <code>Data::main</code>.</p>
<p>Although this is maybe a bit clunky, this pattern seems to be the one which works best will all the features of DOP-C.
The prototype class is useful when creating multiverses or sorting according to row-based rules.
The main table isi the one we actually use to store our data.</p>
<p>Once you learn the ins and outs of DOP-C, you might be comfortable using other patterns.
But for now I advise you stick to the one given above.</p>

    </div>
    </body>
</html>
